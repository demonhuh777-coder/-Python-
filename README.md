## 项目概述 (Project Overview)

在快节奏的现代工业社会中，睡眠障碍已逐渐成为影响公众健康的重要隐性风险。传统分析往往孤立地考察单一生理或心理因素，难以揭示生活方式、压力水平与睡眠健康之间复杂的交互机制。

本项目基于 **Sleep Health and Lifestyle Dataset**，利用 Python 数据分析与机器学习方法，对生活方式因素（运动、压力、职业等）与睡眠健康之间的关系进行系统性建模与归因分析。项目在实现上严格遵循**面向对象编程（OOP）思想**，构建了一个从数据清洗、特征工程、可视化分析到模型训练与评估的**全流程自动化分析系统**。

本仓库对应课程：**2025 秋《基于 Python 的问题解析》期末大作业**。

---

## 核心结论 (Key Findings)

* **高精度预测能力**
  决策树（Decision Tree）与随机森林（Random Forest）模型在测试集上均取得 **96.46% 的分类准确率**，表明生活方式与基础生理指标对睡眠障碍具有较强的可预测性。

* **多维归因分析结果**
  特征重要性分析显示：

  * **BMI（肥胖程度）** 与 **血压（收缩压、舒张压）** 是最核心的致病相关指标；
  * 三者权重合计接近 50%，显著高于主观“压力等级”变量。

* **非线性压力阈值效应**
  数据揭示压力水平与健康状态之间存在明显的非线性关系：

  * 中等压力（Level 5–6）人群整体健康状态较优；
  * 高压力（Level ≥7）出现明显的健康风险“断崖效应”。

---

## 运行环境与依赖 (Environment & Dependencies)

### Python 版本

* Python **3.8 或更高版本**（推荐使用 Anaconda 或虚拟环境）

### 核心依赖库

以下版本环境已测试通过：

* pandas >= 1.5.0
  用于数据读取、清洗与结构化处理
* numpy >= 1.20.0
  用于数值计算与数组操作
* matplotlib >= 3.5.0
  用于基础可视化绘图
* seaborn >= 0.11.0
  用于统计可视化（相关性热力图等）
* scikit-learn >= 1.0.0
  用于机器学习建模（决策树、随机森林、网格搜索、模型评估）

---

## 字体配置说明 (Font Configuration)

为避免 Matplotlib 在绘制中文图表时出现乱码问题，代码中已内置**自动字体适配逻辑**，将按顺序尝试加载以下字体：

* SimHei（黑体，Windows 常见）
* Microsoft YaHei（微软雅黑）
* Arial Unicode MS（macOS 常见）
* DejaVu Sans（Linux / 默认兜底）

> 若图表中的中文仍显示为方框，请确认系统中已安装上述任一中文字体。

---

## 复现步骤 (Reproduction Steps)

只需以下三步即可完整复现实验结果：

### Step 1：获取项目代码

克隆仓库或直接下载 ZIP 文件并解压：

### Step 2：检查数据文件

请确认项目根目录下包含原始数据文件：

Sleep_health_and_lifestyle_dataset.csv

模拟数据仅用于演示流程，不代表真实分析结果**。

### Step 3：运行主程序

在终端或 Python IDE（如 PyCharm、VS Code）中执行：
python main.py

### Step 4：查看输出结果

程序运行结束后将自动生成：

* **控制台输出**

  * 数据加载与清洗日志
  * 最优模型超参数
  * 测试集准确率与混淆矩阵

* **图表文件**（PNG 格式，保存在 `images/` 目录下）

  * 特征相关性分析图
  * 压力水平与睡眠障碍分布图
  * 特征重要性排序图
  * 不同模型混淆矩阵对比图

---

## 实验结果摘要 (Results Summary)

| 模型                   | 最优参数                              | 测试集准确率 |
| -------------------- | --------------------------------- | ------ |
| 决策树 (Decision Tree)  | criterion = 'gini', max_depth = 3 | 96.46% |
| 随机森林 (Random Forest) | n_estimators = 50, max_depth = 5  | 96.46% |

**特征重要性 Top 3：**

1. BMI Category（权重 > 0.30）
2. BP_Systolic（收缩压，权重 > 0.15）
3. BP_Diastolic（舒张压，权重 > 0.14）

---

## 声明 (Disclaimer)

本项目为课程期末大作业，仅用于教学与学术交流目的。
数据集来源于 Kaggle 开源社区，分析结论不构成任何医学或健康建议。
